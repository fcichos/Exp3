<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.5.57">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>Thin Film Interference – Experimental Physics 3 Course on Optics and Quantum Mechanics</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
</style>


<script src="../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../site_libs/quarto-nav/headroom.min.js"></script>
<script src="../site_libs/clipboard/clipboard.min.js"></script>
<script src="../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../site_libs/quarto-search/fuse.min.js"></script>
<script src="../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../">
<script src="../site_libs/quarto-html/quarto.js"></script>
<script src="../site_libs/quarto-html/popper.min.js"></script>
<script src="../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../site_libs/quarto-html/anchor.min.js"></script>
<link href="../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>
<script async="" src="https://hypothes.is/embed.js"></script>
<script>
  window.document.addEventListener("DOMContentLoaded", function (_event) {
    document.body.classList.add('hypothesis-enabled');
  });
</script>

  <script src="https://cdnjs.cloudflare.com/polyfill/v3/polyfill.min.js?features=es6"></script>
  <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml-full.js" type="text/javascript"></script>

<script type="text/javascript">
const typesetMath = (el) => {
  if (window.MathJax) {
    // MathJax Typeset
    window.MathJax.typeset([el]);
  } else if (window.katex) {
    // KaTeX Render
    var mathElements = el.getElementsByClassName("math");
    var macros = [];
    for (var i = 0; i < mathElements.length; i++) {
      var texText = mathElements[i].firstChild;
      if (mathElements[i].tagName == "SPAN") {
        window.katex.render(texText.data, mathElements[i], {
          displayMode: mathElements[i].classList.contains('display'),
          throwOnError: false,
          macros: macros,
          fleqn: false
        });
      }
    }
  }
}
window.Quarto = {
  typesetMath
};
</script>

<link rel="stylesheet" href="../assets/styles.css">
</head>

<body class="nav-sidebar floating nav-fixed">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg " data-bs-theme="dark">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container mx-auto">
    <a class="navbar-brand" href="../index.html">
    <span class="navbar-title">Experimental Physics 3 Course on Optics and Quantum Mechanics</span>
    </a>
  </div>
            <div id="quarto-search" class="" title="Search"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" role="menu" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll ms-auto">
</ul>
          </div> <!-- /navcollapse -->
            <div class="quarto-navbar-tools">
</div>
      </div> <!-- /container-fluid -->
    </nav>
  <nav class="quarto-secondary-nav">
    <div class="container-fluid d-flex">
      <button type="button" class="quarto-btn-toggle btn" data-bs-toggle="collapse" role="button" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
        <i class="bi bi-layout-text-sidebar-reverse"></i>
      </button>
        <nav class="quarto-page-breadcrumbs" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item">Thin Film Interference</li></ol></nav>
        <a class="flex-grow-1" role="navigation" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">      
        </a>
    </div>
  </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse collapse-horizontal quarto-sidebar-collapse-item sidebar-navigation floating overflow-auto">
    <div class="pt-lg-2 mt-2 text-left sidebar-header">
      <a href="../index.html" class="sidebar-logo-link">
      <img src="../mona_logo.png" alt="" class="sidebar-logo py-0 d-lg-inline d-none">
      </a>
      </div>
    <div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Home</span></a>
  </div>
</li>
        <li class="px-0"><hr class="sidebar-divider hi "></li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" role="navigation" aria-expanded="true">
 <span class="menu-text">Course Info</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" role="navigation" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-1" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../course-info/intructors.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Instructor</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../course-info/schedule.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Schedule</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../course-info/resources.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Ressourcen</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../course-info/assignments.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Assignments</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../course-info/exam.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Exam</span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="px-0"><hr class="sidebar-divider hi "></li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-2" role="navigation" aria-expanded="true">
 <span class="menu-text">Geometrical Optics</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-2" role="navigation" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-2" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../geometrical-optics/introduction.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Introduction</span></a>
  </div>
</li>
          <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-3" role="navigation" aria-expanded="true">
 <span class="menu-text">Lecture 1</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-3" role="navigation" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-3" class="collapse list-unstyled sidebar-section depth2 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../geometrical-optics/reflection.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Reflection</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../geometrical-optics/refraction-total-internal-reflection.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Refraction</span></a>
  </div>
</li>
      </ul>
  </li>
          <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-4" role="navigation" aria-expanded="true">
 <span class="menu-text">Lecture 2</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-4" role="navigation" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-4" class="collapse list-unstyled sidebar-section depth2 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../geometrical-optics/Optical Elements I.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Optical Elements I - Mirrors</span></a>
  </div>
</li>
      </ul>
  </li>
          <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-5" role="navigation" aria-expanded="true">
 <span class="menu-text">Lecture 3</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-5" role="navigation" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-5" class="collapse list-unstyled sidebar-section depth2 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../geometrical-optics/Optical Elements II.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Optical Elements II - Prims</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../geometrical-optics/Optical Elements III.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Optical Elements III - Lenses</span></a>
  </div>
</li>
      </ul>
  </li>
          <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-6" role="navigation" aria-expanded="true">
 <span class="menu-text">Lecture 4</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-6" role="navigation" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-6" class="collapse list-unstyled sidebar-section depth2 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../geometrical-optics/Eye.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Optical Instruments- Eye</span></a>
  </div>
</li>
      </ul>
  </li>
          <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-7" role="navigation" aria-expanded="true">
 <span class="menu-text">Lecture 5</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-7" role="navigation" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-7" class="collapse list-unstyled sidebar-section depth2 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../geometrical-optics/Magnifying Glass.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Optical Instruments- Magnifying Glass</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../geometrical-optics/Microscope.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Optical Instruments- Microscope</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../geometrical-optics/Telescope.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Optical Instruments- Telescope</span></a>
  </div>
</li>
      </ul>
  </li>
          <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-8" role="navigation" aria-expanded="true">
 <span class="menu-text">Lecture 6</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-8" role="navigation" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-8" class="collapse list-unstyled sidebar-section depth2 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../geometrical-optics/ContentsL6.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Contents</span></a>
  </div>
</li>
      </ul>
  </li>
      </ul>
  </li>
    </ul>
    </div>
</nav>
<div id="quarto-sidebar-glass" class="quarto-sidebar-collapse-item" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item"></div>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">On this page</h2>
   
  <ul>
  <li><a href="#multiple-wave-interference" id="toc-multiple-wave-interference" class="nav-link active" data-scroll-target="#multiple-wave-interference">Multiple Wave Interference</a>
  <ul class="collapse">
  <li><a href="#multiple-wave-interference-with-constant-amplitude" id="toc-multiple-wave-interference-with-constant-amplitude" class="nav-link" data-scroll-target="#multiple-wave-interference-with-constant-amplitude">Multiple Wave Interference with Constant Amplitude</a></li>
  <li><a href="#multiple-wave-interference-with-decreasing-amplitude" id="toc-multiple-wave-interference-with-decreasing-amplitude" class="nav-link" data-scroll-target="#multiple-wave-interference-with-decreasing-amplitude">Multiple Wave Interference with Decreasing Amplitude</a></li>
  </ul></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">Thin Film Interference</h1>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  


</header>


<style>
figure {
  border: 1px #cccccc solid;
  padding: 4px;
  margin: auto;
  align: center;
}

figcaption {
  background-color: #eeeeee;
  color: black;
  padding: 2px;
}
</style>
<p>The reflection and transmission of waves on a thin film can also be regarded as an interference of two waves. A light wave is incident on a thin film as depicted below. A part of the wave is reflected on the first boundary (1). Another part is transmitted through the first boundary and reflected at the second boundary to be transmitted in the same direction (2) as the first reflected part. Note that the lines and arrows denote the direction of the wavevector <span class="math inline">\(\vec{k}\)</span> of the partial waves.</p>
<table class="caption-top table">
<thead>
<tr class="header">
<th><img src="img/thin_film.png" width="50%"></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><strong>Fig.:</strong> Interference on a thin film considering two partial waves.</td>
</tr>
</tbody>
</table>
<p>This picture of a single reflection at each of the interfaces is certainly a simplification and in general we would have to consider an infinite number of reflections. But if we assume that the reflection is weak (e.g.&nbsp;4% as for the air/glass interface), then the next reflection would just diminish the 4% to 4% of 4%, which is really weak. So the two wave interference may be a good model for weak reflections.</p>
<p>For the geometry shown in the figure above, we have just have a medium with <span class="math inline">\(n_1\)</span> surrounding the film with <span class="math inline">\(n_2\)</span>. For this situation, we may calculate the path difference <span class="math inline">\(\Delta s\)</span>, the waves 1 and 2 have to travel.</p>
<p>We find</p>
<p><span class="math display">\[
\Delta s=\frac{2nd}{\cos(\beta)}-2d\tan(\beta)\sin(\alpha)
\]</span></p>
<p>where the first term contains the distance traveled by wave 2 inside the water film. The second term is the additional distance wave 1 has to travel after being reflected which is indicated by the dotted line inbetween.</p>
<p>We can now introduce Snells law into the calculation, as Snells law must be also valid in wave optics and also in electromagnetic optics. With <span class="math inline">\(n_1\sin(\alpha)=n_2\sin(\beta)\)</span> and setting <span class="math inline">\(n_1=1\)</span> and <span class="math inline">\(n_2=n\)</span> we can rewrite the path difference as</p>
<p><span class="math display">\[
\Delta s =\frac{2nd}{\cos(\beta)}-\frac{2nd\sin^2(\beta)}{\cos(\beta)}=2n d \cos(\beta)=2d\sqrt{n^2-\sin^2(\alpha)}
\]</span></p>
<p>With that we can now also calculate the phase shift <span class="math inline">\(\Delta \phi\)</span> that is introduced through the path difference, which reads</p>
<p><span class="math display">\[
\Delta \phi=\frac{2\pi}{\lambda}\Delta s +\pi
\]</span></p>
<p>You may now wonder about the second part <span class="math inline">\(\pi\)</span>, which is not coming from a path difference. This addition phase shift occurs due to the reflection at an interface with higher refractive index. For such a reflection, there is always a phase jump of <span class="math inline">\(\phi\)</span>, which we have to consider. This is not occuring for the reflection at the second boundary, as we there go from a higher refractive index to a lower one.</p>
<div class="alert alert-info">
<p><strong>Phase Jump at Boundaries</strong></p>
<p>Wave may experience phase jumps when being reflected.</p>
<p>A light wave will experience a phase jump of <span class="math inline">\(\pi\)</span> when being reflected by a medium of higher refractive index.</p>
<p>A light wave will experience no phase jump when being reflected by a medium of lower refractive index.</p>
<p>The physical reasons will be covered when we deal with the Fresnel formulas in electromagnetic optics.</p>
</div>
<p>To get to know the properties of thin film interference a bit better we consider the normal incidence <span class="math inline">\(\alpha=0\)</span>, which leaves us with</p>
<p><span class="math display">\[
\Delta \phi=\frac{2\pi}{\lambda}2dn+\pi
\]</span></p>
<p>In case we are searching for constructive interference, this phase shift should correspond to an integer multiple of <span class="math inline">\(2\pi\)</span>, e.g.&nbsp;<span class="math inline">\(\Delta \phi =m2\pi\)</span>. From the last equation we see already, that for <span class="math inline">\(d=0\)</span>, we have in principle a residual phase shift of <span class="math inline">\(\pi\)</span>, meaning that there is only destructive interference. Yet a film thickness of zeor does not really make sense.</p>
<p>We would like to discuss two different situations in the following in an example. For that we either look at the thickness under which a constructive interference at a wavelength of <span class="math inline">\(\lambda\)</span> occurs, or we ask what kind of wavelength do show constructive interference for a fixed thickness.</p>
<p><strong>Fixed Wavelength</strong></p>
<p>For a fixed wavelength of <span class="math inline">\(\lambda\)</span> we obtain a corresponding thickness for the constructive interference of</p>
<p><span class="math display">\[
d=\frac{(2m-1)\lambda}{4n}
\]</span></p>
<p><strong>Fixed Thickness</strong></p>
<p>For a fixed thickness of <span class="math inline">\(d\)</span> we obtain constructive interference at</p>
<p><span class="math display">\[
\lambda_{max}=\frac{4nd}{2m-1}
\]</span></p>
<p>We can now have a look at two examples.</p>
<p><strong>Example 1 - d=100 nm</strong></p>
<p>If we look at a film thickness of <span class="math inline">\(d=100\)</span> nm and a film of <span class="math inline">\(n=1.33\)</span>, which corresponds to water we obbtain constructive interference for</p>
<p><span class="math display">\[
\lambda_{max}=\frac{4\cdot 100\, {\rm nm} \cdot 1.33}{2m-1}
\]</span></p>
<p>or</p>
<p><span class="math display">\[
\lambda_{max}=\frac{ 532 {\rm nm}}{2m-1}
\]</span></p>
<p>which yields for different values of <span class="math inline">\(m\)</span></p>
<ul>
<li><span class="math inline">\(m=1\)</span>: 532 nm</li>
<li><span class="math inline">\(m=2\)</span>: 177 nm</li>
<li><span class="math inline">\(m=3\)</span>: 106 nm</li>
</ul>
<p>and so on. We see therefore that the longest wavelength to create constructive interference is <span class="math inline">\(532\)</span> nm, which is green light. The next longest wavelength is 177 nm, which is not visible anymore, so the reflection of a <span class="math inline">\(d=100\)</span> nm film would look green. The left plot in the figure below shows the intensity distribution over wavelength where you recognize that the maximum is very broad.</p>
<table class="caption-top table">
<colgroup>
<col style="width: 100%">
</colgroup>
<thead>
<tr class="header">
<th><img src="img/100nm_film.png" width="40%"> <img src="img/10nm_film.png" width="40%"></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><strong>Fig.:</strong> Reflection from a 100 nm (left) and a 10 nm (right)thin water film.</td>
</tr>
</tbody>
</table>
<p>An interesting effect is appearing, when the thickness of the water film get very thin. We may ask, when is no constructive interference observed. We therefore set the wavelength of the constructive interefence to <span class="math inline">\(\lambda_{max}=400\, {\rm nm}\)</span> and calculate the film thickness for which this occurs.</p>
<p><span class="math display">\[
d=\frac{(2m-1)\lambda_{max}}{2n}\approx 75\, {\rm nm}
\]</span></p>
<p>So for film thickness of water thinner than 75 nm, there is no constructive interference of the reflected light from the two boundaries in the visible region anymore. There will be still a reflection but no specific color. If the film gets even thinner, the intensity of the reflected light is further diminished by desctructive interference and whe obtain no reflection as shown on the right side of the above figure for a <span class="math inline">\(d=10\)</span> nm film. Such thin films, which do not show any reflection are called <strong>Newton black films</strong>. You might have seen them, if you look closer at soap bubbles. They will show regions, which look like holes, but of course there are no holes in soap bubbles.</p>
<p>If the film gets thicker, e.g.&nbsp;<span class="math inline">\(d=1\)</span> µm or even <span class="math inline">\(d=100\)</span> µm, more than one constructive interference fits into the visible wavelength range. Due to that, the film may appear to have mixed colors or even look white. Below are the diagrams for those film thicknesses.</p>
<table class="caption-top table">
<colgroup>
<col style="width: 100%">
</colgroup>
<thead>
<tr class="header">
<th><img src="img/1µm_film.png" width="40%"> <img src="img/100µm_film.png" width="40%"></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><strong>Fig.:</strong> Reflection from a 1 µm (left) and a 100 µm (right)thin water film.</td>
</tr>
</tbody>
</table>
<table class="caption-top table">
<colgroup>
<col style="width: 100%">
</colgroup>
<thead>
<tr class="header">
<th><img src="img/soap_film_lecture.png" width="45%"> <img src="img/soap_film_lecture1.png" width="45%"></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><strong>Fig.:</strong> Experimental demonstration of the reflection of white light by a thin soap film.</td>
</tr>
</tbody>
</table>
<section id="multiple-wave-interference" class="level2">
<h2 class="anchored" data-anchor-id="multiple-wave-interference">Multiple Wave Interference</h2>
<p>So far we looked at the interference of two waves, which was a simplification as I mentioned already earlier. Commonly there will be a multitude of partial waves contribute to the oberved intereference. This is what we would like to have a look at now. We will do that in a quite general fashion, as the resulting formulas will appear several times again for different problems.</p>
<p>Nevertheless we will make a difference between</p>
<ul>
<li>multiwave interference of waves with the same amplitude</li>
<li>multiwave interference of waves with decreasing amplitude</li>
</ul>
<p>Especially the latter is often occuring, if we have multiple reflections and each reflection is only a fraction of the incident amplitude.</p>
<section id="multiple-wave-interference-with-constant-amplitude" class="level3">
<h3 class="anchored" data-anchor-id="multiple-wave-interference-with-constant-amplitude">Multiple Wave Interference with Constant Amplitude</h3>
<p>In the case of constant amplitude (for example realized by a grating, which we talk about later), the total wave amplitude is given according to the picture below by</p>
<p><span class="math display">\[
U=U_1+U_2+U_1+U_3+\ldots+U_M
\]</span></p>
<p>where we sum the amplitude over <span class="math inline">\(M\)</span> partial waves. Between the neighboring waves (e.g.&nbsp;<span class="math inline">\(U_1\)</span> and <span class="math inline">\(U_2\)</span>), we will assume a phase difference (because of a path length difference for example), which we denote as <span class="math inline">\(\phi\)</span>.</p>
<p>The amplitude of the p-th wave is then given by</p>
<p><span class="math display">\[
U_p=\sqrt{I_0}e^{i(p-1)\phi}
\]</span></p>
<p>with the index <span class="math inline">\(p\)</span> being an interger <span class="math inline">\(p=1,2,\ldots,M\)</span>, <span class="math inline">\(h=e^{i\phi}\)</span> and <span class="math inline">\(\sqrt{I_0}\)</span> as the amplitude of each individual wave. The total amplitude <span class="math inline">\(U\)</span> can be then expressed as</p>
<p><span class="math display">\[
U=\sqrt{I_0}\left (1+h+h^2+\ldots +h^{M-1}\right)
\]</span></p>
<p>which is a geometric sum. We can apply the sum formula for geometric sums to obtain</p>
<p><span class="math display">\[
U=\sqrt{I_0}\frac{1-h^M}{1-h}=\sqrt{I_0}\frac{1-e^{iM\phi}}{1-e^{i\phi}}
\]</span></p>
<p>We now have to calculate the intensity of the total amplitude</p>
<p><span class="math display">\[
I=|U|^2=I_{0}\left | \frac{e^{-iM\phi/2}-e^{iM\phi/2}}{e^{-i\phi/2}-e^{i\phi/2}}\right |^2
\]</span></p>
<p>which we can further simplify to give</p>
<p><span class="math display">\[
I=I_{0}\frac{\sin^2(M\phi/2)}{\sin^2(\phi/2)}
\]</span></p>
<table class="caption-top table">
<colgroup>
<col style="width: 100%">
</colgroup>
<thead>
<tr class="header">
<th><img src="img/multi_wave.png" width="90%"></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><strong>Fig.:</strong> Multiple wave interefence. Left: Phase construction of a multiwave intereference with M equal amplitude waves. Middle: Intensity distribution obtained as a function of the phase shift <span class="math inline">\(\phi\)</span>. Right: Examplary sketch of the interference generation.</td>
</tr>
</tbody>
</table>
<p>The result is therefore an oscillating function. The numerator <span class="math inline">\(\sin^2(M\phi/2)\)</span> shows and oscillation frequency, which is by a factor of <span class="math inline">\(M\)</span> higher than the one in the denominator <span class="math inline">\(\sin^2\phi/2)\)</span>. Special situations occur, whenever the numerator and the denominator become zero. This will happen whenever</p>
<p><span class="math display">\[
\phi=m 2\pi
\]</span></p>
<p>where <span class="math inline">\(m\)</span> is an integer and denotes the interference order, i.e.&nbsp;the number of wavelength that neighboring partial waves have as path length difference. In this case, the intensity distributiion will give us</p>
<p><span class="math display">\[
I=I_0 \frac{0}{0}
\]</span></p>
<p>and we have to determine the limit with the help of l’Hospitals rule. The outcome of this calculation is, that</p>
<p><span class="math display">\[
I(\phi=m2\pi)=M^2 I_0
\]</span></p>
<p>which can be also realized when using the small angle approximation for the sine functions.</p>
<p>Since he numerator is much faster oscillating then the denominator, we may also encounter the situation, where the numerator is zero, but the denomintor is not. These situations result in the additional minima between the primary maxima. We will have exactly <span class="math inline">\(M-1\)</span> minima between the global maxima and <span class="math inline">\(M-2\)</span> primary maxima. We will come back to these details when we talk about the diffraction grating in the next section.</p>
</section>
<section id="multiple-wave-interference-with-decreasing-amplitude" class="level3">
<h3 class="anchored" data-anchor-id="multiple-wave-interference-with-decreasing-amplitude">Multiple Wave Interference with Decreasing Amplitude</h3>
<p>We will turn our attention now to a slight modification of the previous multiwave interference. We will introduce a decreasing amplitude of the individual waves. The first wave shall have an amplitude <span class="math inline">\(U_1=\sqrt{I_0}\)</span>. The next wave, however, will not only be phase shifted but also have a smaller amplitude.</p>
<p><span class="math display">\[
U_2=h U_1
\]</span></p>
<p>where <span class="math inline">\(h=re^{i\phi}\)</span> with <span class="math inline">\(|h|=r&lt;1\)</span>. <span class="math inline">\(r\)</span> can be regarded as a reflection coefficient, which deminishes the amplitude of the incident wave. According to that the intensity is reduced by</p>
<p><span class="math display">\[
I_2=|U_2|^2=|h U_1|^2=r^2 I_1
\]</span></p>
<p>The intensity of the incident wave is multiplied by a factor <span class="math inline">\(r^2\)</span>, while the amplitude is multiplied by <span class="math inline">\(r\)</span>. Note that the phase factor <span class="math inline">\(e^{i\phi}\)</span> is removed when taking the square of this complex number.</p>
<div class="alert alert-info">
<p><strong>Intensity at Boundaries</strong></p>
<p>The amplitude of the reflected wave is diminished by a factor <span class="math inline">\(r\le 1\)</span>, which is called the reflection coefficient. The intensity is diminished by a factor <span class="math inline">\(R=|r|^2\le1\)</span>, which is the <strong>reflectance</strong>.</p>
<p>In the absence of absorption, reflectance <span class="math inline">\(R\)</span> and <strong>transmittance</strong> <span class="math inline">\(T\)</span> add to one due to energy conservation.</p>
<p><span class="math display">\[
R+T=1
\]</span></p>
</div>
<p>Consequently, the third wave would be now <span class="math inline">\(U_3=hU_2=h^2U_1\)</span>. The total amplitude is thus</p>
<p><span class="math display">\[
U=U_1+U_2+U_3+\ldots+U_M = \sqrt{I_0}(1+h+h^2+\ldots)
\]</span></p>
<table class="caption-top table">
<colgroup>
<col style="width: 100%">
</colgroup>
<thead>
<tr class="header">
<th><img src="img/multi_wave_decreasing.png" width="70%"></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><strong>Fig.:</strong> Multiple wave interefence with decreasing amplitudes. Left: Phase construction of a multiwave intereference with M equal amplitude waves. Right: Intensity distribution obtained as a function of the phase shift <span class="math inline">\(\phi\)</span>.</td>
</tr>
</tbody>
</table>
<p>This yields again</p>
<p><span class="math display">\[
U=\sqrt{I_0}\frac{(1-h^M)}{1-h}=\frac{\sqrt{I_0}}{1-r e^{i\phi}}
\]</span></p>
<p>Calculating the intensity of the waves is giving</p>
<p><span class="math display">\[
I=|U|^2=\frac{I_{0}}{|1-re^{i\phi}|^2}=\frac{I_0}{(1-r)^2+4r\sin^2(\phi/2)}
\]</span></p>
<p>which is also known as the <strong>Airy function</strong>. This function can be further simplified by the following abbrevations</p>
<p><span class="math display">\[
I_{\rm max}=\frac{I_0}{(1-r)^2}
\]</span></p>
<p>and</p>
<p><span class="math display">\[
\mathcal{F}=\frac{\pi \sqrt{r}}{1-r}
\]</span></p>
<p>where the latter is called the <em>Finesse</em>. With those abbrevations, we obtain</p>
<p><span class="math display">\[
I=\frac{I_{\rm max}}{1+4\left(\frac{\mathcal{F}}{\pi}\right)\sin^{2}(\phi/2)}
\]</span></p>
<p>for the interference of multiple waves with decreasing amplitude.</p>
<p>This intensity distribution has a different shape than the one we obtained for multiple waves with the same amplitude.</p>
<table class="caption-top table">
<colgroup>
<col style="width: 100%">
</colgroup>
<thead>
<tr class="header">
<th><img src="img/perot.png" width="60%"></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><strong>Fig.:</strong> Multiple wave interference with decreasing amplitude. The graph shows the intensity distribution over the phase angle <span class="math inline">\(\phi\)</span> for different values of the Finesse <span class="math inline">\(\mathcal{F}\)</span>.</td>
</tr>
</tbody>
</table>
<p>We clearly observe that with increasing Finesse the intensity maxima, which occur at multiples fo <span class="math inline">\(\pi\)</span> get much narrower. In addition the regions between the maxima show better contrast and fopr higher Finesse we get complete destructive interference.</p>


</section>
</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const onCopySuccess = function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  }
  const getTextToCopy = function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
    text: getTextToCopy
  });
  clipboard.on('success', onCopySuccess);
  if (window.document.getElementById('quarto-embedded-source-code-modal')) {
    // For code content inside modals, clipBoardJS needs to be initialized with a container option
    // TODO: Check when it could be a function (https://github.com/zenorocha/clipboard.js/issues/860)
    const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
      text: getTextToCopy,
      container: window.document.getElementById('quarto-embedded-source-code-modal')
    });
    clipboardModal.on('success', onCopySuccess);
  }
    var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
    var mailtoRegex = new RegExp(/^mailto:/);
      var filterRegex = new RegExp("https:\/\/fcichos\.github\.io\/Exp3_2024\/");
    var isInternal = (href) => {
        return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
    }
    // Inspect non-navigation links and adorn them if external
 	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
    for (var i=0; i<links.length; i++) {
      const link = links[i];
      if (!isInternal(link.href)) {
        // undo the damage that might have been done by quarto-nav.js in the case of
        // links that we want to consider external
        if (link.dataset.originalHref !== undefined) {
          link.href = link.dataset.originalHref;
        }
      }
    }
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      if (note) {
        return note.innerHTML;
      } else {
        return "";
      }
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      // TODO in 1.5, we should make sure this works without a callout special case
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->




</body></html>